{"ast":null,"code":"import _slicedToArray from\"C:/Users/hujerp/OneDrive - Webasto Group/Dokumenty/GitHub/project_holec/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/hujerp/OneDrive - Webasto Group/Dokumenty/GitHub/project_holec/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hujerp/OneDrive - Webasto Group/Dokumenty/GitHub/project_holec/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect}from\"react\";import _ from'lodash';import Linka from\"./home/Linka.jsx\";import{QueryClient,QueryClientProvider,useQuery}from\"@tanstack/react-query\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getTypyLinek(_x){return _getTypyLinek.apply(this,arguments);}function _getTypyLinek(){_getTypyLinek=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(IP){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://\".concat(IP,\":3005/getTypyLinek\"));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.json());case 4:case\"end\":return _context2.stop();}},_callee2);}));return _getTypyLinek.apply(this,arguments);}var IP='172.23.30.216';var queryClient=new QueryClient();export default function Home(){return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(MainHome,{})});}function MainHome(){var _useQuery=useQuery({queryKey:['typyLinek'],queryFn:function(){var _queryFn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getTypyLinek(IP);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));function queryFn(){return _queryFn.apply(this,arguments);}return queryFn;}(),initialData:[]}),reportsLoad=_useQuery.isLoading,typyLinek=_useQuery.data;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedLinka=_useState2[0],setSelectedLinka=_useState2[1];var handleButtonClick=function handleButtonClick(id){setSelectedLinka(id);};var goToHome=function goToHome(){setSelectedLinka(null);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center w-full\",children:!selectedLinka?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-700 to-gray-500 pt-16 pb-16 pl-8 pr-8 text-3xl w-screen text-center text-white \",children:\"Vyberte Linku\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center\",children:typyLinek.map(function(linka){return/*#__PURE__*/_jsxs(\"button\",{className:\"pt-5 pb-5 pl-5 pr-5 bg-green-200 w-fit rounded-full mt-5\",id:linka.PLine_id,onClick:function onClick(){return handleButtonClick(linka.PLine_id);},children:[\" \",linka.PLine_name]});})})]}):/*#__PURE__*/_jsx(Linka,{apiIP:IP,linkaId:selectedLinka,goToHome:goToHome})});}","map":{"version":3,"names":["React","useState","useEffect","_","Linka","QueryClient","QueryClientProvider","useQuery","getTypyLinek","IP","fetch","response","json","queryClient","Home","MainHome","queryKey","queryFn","initialData","reportsLoad","isLoading","typyLinek","data","selectedLinka","setSelectedLinka","handleButtonClick","id","goToHome","map","linka","PLine_id","PLine_name"],"sources":["C:/Users/hujerp/OneDrive - Webasto Group/Dokumenty/GitHub/project_holec/frontend/src/routes/root.jsx"],"sourcesContent":["import React, { useState ,useEffect } from \"react\";\r\nimport _ from 'lodash';\r\nimport Linka from \"./home/Linka.jsx\";\r\n\r\nimport {\r\n  QueryClient,\r\n  QueryClientProvider,\r\n  useQuery,\r\n} from \"@tanstack/react-query\";\r\n\r\n\r\n\r\nasync function getTypyLinek(IP) {\r\n  const response = await fetch(`http://${IP}:3005/getTypyLinek`);\r\n      return response.json();\r\n  }\r\n\r\n\r\nconst IP = '172.23.30.216'\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport default function Home() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <MainHome />\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n\r\n\r\nfunction MainHome() {\r\n  const {isLoading: reportsLoad, data: typyLinek} = useQuery({queryKey: ['typyLinek'], queryFn: async () => await getTypyLinek(IP), initialData: []});\r\n\r\n    const [selectedLinka, setSelectedLinka] = useState(null);\r\n\r\n    const handleButtonClick = id => {\r\n        setSelectedLinka(id);\r\n      };\r\n\r\n    const goToHome = () => {\r\n    setSelectedLinka(null);\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className=\"flex flex-col items-center w-full\">\r\n            {!selectedLinka ? (\r\n                <div>\r\n                    <div className=\"bg-gradient-to-r from-gray-700 to-gray-500 pt-16 pb-16 pl-8 pr-8 text-3xl w-screen text-center text-white \">Vyberte Linku</div>\r\n                        <div className=\"flex flex-col items-center\">\r\n                        {typyLinek.map((linka) => {\r\n                            return <button className=\"pt-5 pb-5 pl-5 pr-5 bg-green-200 w-fit rounded-full mt-5\" id={linka.PLine_id}  onClick={() => handleButtonClick(linka.PLine_id)}> {linka.PLine_name}</button>\r\n                            \r\n                        })}\r\n                        \r\n                    </div>\r\n                </div>\r\n             ) : (\r\n            <Linka apiIP={IP} linkaId={selectedLinka} goToHome={goToHome} />\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"kgBAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,EAAC,KAAM,QAAQ,CACtB,MAAOC,MAAK,KAAM,kBAAkB,CAEpC,OACEC,WAAW,CACXC,mBAAmB,CACnBC,QAAQ,KACH,uBAAuB,CAAC,gGAIhBC,aAAY,kJAA3B,kBAA4BC,EAAE,2JACLC,MAAK,kBAAWD,EAAE,uBAAqB,QAAxDE,QAAQ,iDACHA,QAAQ,CAACC,IAAI,EAAE,yDACzB,+CAGH,GAAMH,GAAE,CAAG,eAAe,CAE1B,GAAMI,YAAW,CAAG,GAAIR,YAAW,EAAE,CAErC,cAAe,SAASS,KAAI,EAAG,CAC7B,mBACE,KAAC,mBAAmB,EAAC,MAAM,CAAED,WAAY,uBACvC,KAAC,QAAQ,IAAG,EACQ,CAE1B,CAGA,QAASE,SAAQ,EAAG,CAClB,cAAkDR,QAAQ,CAAC,CAACS,QAAQ,CAAE,CAAC,WAAW,CAAC,CAAEC,OAAO,mFAAE,0JAAkBT,aAAY,CAACC,EAAE,CAAC,4LAAES,WAAW,CAAE,EAAE,CAAC,CAAC,CAAjIC,WAAW,WAAtBC,SAAS,CAAqBC,SAAS,WAAfC,IAAI,CAEjC,cAA0CrB,QAAQ,CAAC,IAAI,CAAC,wCAAjDsB,aAAa,eAAEC,gBAAgB,eAEtC,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAGC,EAAE,CAAI,CAC5BF,gBAAgB,CAACE,EAAE,CAAC,CACtB,CAAC,CAEH,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACvBH,gBAAgB,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,mBAEI,YAAK,SAAS,CAAC,mCAAmC,UAC7C,CAACD,aAAa,cACX,oCACI,YAAK,SAAS,CAAC,4GAA4G,UAAC,eAAa,EAAM,cAC3I,YAAK,SAAS,CAAC,4BAA4B,UAC1CF,SAAS,CAACO,GAAG,CAAC,SAACC,KAAK,CAAK,CACtB,mBAAO,gBAAQ,SAAS,CAAC,0DAA0D,CAAC,EAAE,CAAEA,KAAK,CAACC,QAAS,CAAE,OAAO,CAAE,yBAAML,kBAAiB,CAACI,KAAK,CAACC,QAAQ,CAAC,EAAC,WAAC,GAAC,CAACD,KAAK,CAACE,UAAU,GAAU,CAE3L,CAAC,CAAC,EAEA,GACJ,cAEV,KAAC,KAAK,EAAC,KAAK,CAAEtB,EAAG,CAAC,OAAO,CAAEc,aAAc,CAAC,QAAQ,CAAEI,QAAS,EAC5D,EACC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}